{"version":3,"sources":["components/Persons.jsx","components/Filter.jsx","components/PersonForm.jsx","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","persons","handleDelete","map","person","name","number","onClick","id","Persons","searchText","filter","toLowerCase","includes","Filter","props","value","onChange","handleText","PersonForm","onSubmit","addObj","newName","handleNewName","newNum","handleNewNum","type","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","errorMessage","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setNewName","setNewNum","setSearchText","setMessage","setErrorMessage","useEffect","personService","initialPersons","event","target","preventDefault","personObject","find","n","window","alert","confirm","returnedPerson","setTimeout","catch","error","modifiedPersons","concat","JSON","stringify","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b4cfd14a.chunk.js","sourcesContent":["const Person = ({ persons, handleDelete }) => persons.map(person => \r\n<div key={person.id}>\r\n  {person.name} {person.number} <button onClick={() => handleDelete(person.id)}>delete</button>\r\n</div>\r\n)\r\n\r\nconst Persons = ({ persons, searchText, handleDelete }) => {\r\n\r\n    if (searchText === '') {\r\n      return (\r\n        <Person persons={persons} handleDelete={handleDelete} />\r\n      )\r\n    } else {\r\n      return (\r\n        <Person persons={persons.filter(person => \r\n            person.name.toLowerCase().includes(searchText)\r\n            )\r\n          } handleDelete={handleDelete} \r\n        />\r\n      )\r\n    }\r\n}\r\n\r\n  export default Persons","const Filter = (props) => {\r\n    return (\r\n      <div>\r\n        Filter persons by letter: <input \r\n        value={props.searchText} \r\n        onChange={props.handleText}\r\n        />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter","const PersonForm = (props) => {\r\n    return (\r\n      <div>\r\n        <form onSubmit={props.addObj} >\r\n          <div>\r\n            Name: <input \r\n            value={props.newName}\r\n            onChange={props.handleNewName} />\r\n          </div>\r\n          <div>\r\n            Number: <input \r\n            value={props.newNum}\r\n            onChange={props.handleNewNum} />\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">Add</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default PersonForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","const Notification = ({ message, errorMessage }) => {\r\n    const messageStyle = {\r\n        color: 'green',\r\n        background: 'grey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    const errorMessageStyle = {\r\n        color: 'red',\r\n        background: 'grey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (errorMessage === null & message === null ) {\r\n        return null\r\n    } else if (errorMessage === null){\r\n        return (\r\n            <div style={messageStyle}>\r\n                {message}\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div style={errorMessageStyle}>\r\n                {errorMessage}\r\n            </div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport default Notification "," import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNum, setNewNum ] = useState('')\n  const [searchText, setSearchText] = useState('')\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleNewName = (event) => setNewName(event.target.value)\n  const handleNewNum = (event) => setNewNum(event.target.value)\n  const handleText = (event) => setSearchText(event.target.value)\n  const handleDelete = (id) => {\n    const person = persons.find(n => n.id === id)\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      personService\n        .remove(id)\n      setPersons(persons.filter(n => n.id !== id))\n    }\n  }\n  \n  const addObj = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNum\n    }\n    \n    if (persons.map(person => person.name).includes(newName)) {\n      const person = persons.find(n => n.name === newName)\n      if (person.number === newNum) {\n        window.alert( `${newName} is already present`)\n      }\n      else {\n        if (window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`)) {\n          personService\n            .update(person.id, personObject)\n            .then(returnedPerson => {\n              setMessage(`Updated ${returnedPerson.name}`)\n              setTimeout(() => setMessage(null), 5000)\n              setNewName('')\n              setNewNum('')\n            })\n            \n            .catch(error => {\n              setErrorMessage(`Information for ${person.name} has already been removed from the server`)\n            })\n            .then(personService.getAll().then(modifiedPersons => {setPersons(modifiedPersons)}))\n\n        }\n      }\n      \n    } else {\n      personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setMessage(`Added ${returnedPerson.name}`)\n        setTimeout(() => setMessage(null), 5000)\n        setNewName('')\n        setNewNum('')\n      })\n      .catch(error => {\n        setErrorMessage(`${JSON.stringify(error.response.data.error)}`)\n      })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} errorMessage={errorMessage} />\n\n      <Filter searchText={searchText} handleText={handleText} />\n      \n      <h3>Add a new person</h3>\n      \n      <PersonForm \n        addObj={addObj} newName={newName} handleNewName={handleNewName} \n        newNum={newNum} handleNewNum={handleNewNum} \n      />\n      \n      <h3>Numbers</h3>\n      \n      <Persons persons={persons} searchText={searchText} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root')\n);"],"sourceRoot":""}